<html>
	<head>
		<meta charset="utf-8"/>
<!--		<link rel="stylesheet" type="text/css" href="./htmlenc.css">-->
		<title>
			DOM-based XSS
		</title>
	</head>
	<body>
		<h1>HTML Encode</h1>

		<h3>in</h3>
		<textarea id="in" cols=50 rows=10></textarea>
		

		<h3>out</h3>
		<pre id="tst"></pre>
		<div id="tst2"></div>


		<script>
		//動作用
			const int=document.getElementById("in");

			int.addEventListener('input', updateValue);
			function updateValue(e) {
				document.getElementById("tst").innerText=htmlenc(int.value);
			}

			function htmlenc(text){
				if(text!=""){
					text=text.replace(/&/g,'&amp;');
					text=text.replace(/</g,'&lt;');
					text=text.replace(/>/g,'&gt;');
					text=text.replace(/"/g,'&quot;');
					text=text.replace(/'/g,'&#x27;');
					text=text.replace(/\\/g,'&#x5C;');
				}
				return text;
			}
		</script>

	</body>

</html>